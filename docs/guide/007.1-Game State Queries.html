<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Game State Queries | TrinketTinker </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Game State Queries | TrinketTinker ">
      
      
      <link rel="icon" href="../images/favicon.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Mushymato/TrinketTinker/blob/main/guide/007.1-Game State Queries.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/favicon.png" alt="TrinketTinker">
            TrinketTinker
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="game-state-queries"><a href="https://stardewvalleywiki.com/Modding:Game_state_queries">Game State Queries</a></h1>

<p>Game state queries are expressions that return true or false, they can be used in various Condition fields in both TrinketTinker and elsewhere in game. Though the game state queries added by Trinket Tinker are very specific in their use case.</p>
<h2 id="mushymatotrinkettinker_is_tinker">mushymato.TrinketTinker_IS_TINKER</h2>
<pre><code>mushymato.TrinketTinker_IS_TINKER &lt;Input|Target|ItemId&gt; [level compare] [variant compare]
</code></pre>
<p>Check if the item indicated by key is a trinket with tinker data and has a certain amount of level and a certain amount of variant.</p>
<p>The argument format here is shared by other Trinket Tinker GSQ arguments of the same style.</p>
<h3 id="trinket-item-inputtargetitemid">Trinket Item &lt;Input|Target|ItemId&gt;</h3>
<ul>
<li>Input: This is the input item from a machine trigger rule. For Trinket Tinker conditions, this will usually be the trinket item.</li>
<li>Output: This is the target item, which is more general. For Trinket Tinker conditions, this will usually be the trinket item.</li>
<li>ItemId: This is a item id (best if qualified). A new instance of the item will be created and checked against condition, which means level 0 and variant 0 in context of trinkets from Trinket Tinker.</li>
</ul>
<h3 id="compare-notation">Compare Notation</h3>
<p>Level compare and Variant compare in this GSQ take a compare operation with format of [Operator][Compare Value], e.g. &lt;=1 for less than or equal to 1.</p>
<p><em>Valid operators</em>: <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>==</code> (&amp; <code>=</code>), <code>!=</code>.</p>
<p>The compare value is an integer (i.e. 2, not 2.5). Can also use <code>M</code> for maximum unlocked level/variant.
To skip level and only compare variant (or vice versa), use <code>?</code> for level.</p>
<p>Other arguments marked &quot;compare&quot; used the same syntax.</p>
<h2 id="mushymatotrinkettinker_enabled_trinket_count">mushymato.TrinketTinker_ENABLED_TRINKET_COUNT</h2>
<pre><code>mushymato.TrinketTinker_ENABLED_TRINKET_COUNT &lt;Input|Target|ItemId&gt; &lt;playerKey&gt; &lt;equip count compare&gt;
</code></pre>
<p>Count and compare the number of trinkets of a specific Id that had been equipped and enabled across targeted players. This allows a trinket to be restricted to only 1 user at a time, e.g. <code>&quot;EnableCondition&quot;: &quot;mushymato.TrinketTinker_ENABLED_TRINKET_COUNT Target All &lt;1&quot;</code>.</p>
<h2 id="mushymatotrinkettinker_in_alt_variant">mushymato.TrinketTinker_IN_ALT_VARIANT</h2>
<pre><code>mushymato.TrinketTinker_IN_ALT_VARIANT &lt;Input|Target&gt; &lt;altVariantKey&gt;
</code></pre>
<p>Check if the trinket item has companions and is currently in a specific <code>altVariantKey</code>, or <code>&quot;BASE&quot;</code> to check if the companion is not an an alt variant.
Only works in context where the Input/Target item is a trinket with tinker data, does not support string trinket Id.</p>
<h2 id="mushymatotrinkettinker_trinket_has_item">mushymato.TrinketTinker_TRINKET_HAS_ITEM</h2>
<pre><code>mushymato.TrinketTinker_TRINKET_HAS_ITEM &lt;Input|Target&gt; &lt;itemId&gt; &lt;item count compare&gt;
</code></pre>
<p>Check if the trinket item has an inventory and the inventory has a certain number of the given item.
Only works in context where the Input/Target item is a trinket with tinker data, does not support string trinket Id.</p>
<h2 id="mushymatotrinkettinker_has_levels">mushymato.TrinketTinker_HAS_LEVELS</h2>
<pre><code>mushymato.TrinketTinker_HAS_LEVELS &lt;Input|Target|ItemId&gt;
</code></pre>
<p>Check if the trinket item has at least 2 unlocked levels, primarily for usage in machines.</p>
<h2 id="mushymatotrinkettinker_has_variants">mushymato.TrinketTinker_HAS_VARIANTS</h2>
<pre><code>mushymato.TrinketTinker_HAS_VARIANTS &lt;Input|Target|ItemId&gt;
</code></pre>
<p>Check if the trinket item and has at least 2 unlocked variants, primarily for usage in machines.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <a href="https://github.com/Mushymato/TrinketTinker">Source</a>   <a href="https://www.nexusmods.com/stardewvalley/mods/29073">Nexus</a>
        </div>
      </div>
    </footer>
  </body>
</html>
